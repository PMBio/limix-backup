# install: ./install-dependencies.sh
language: python
# - virtualenv --python=python venv
#   - source venv/bin/activate
before_install:
  - uname -a
  - free -m
  - df -h
  - ulimit -a

  - mkdir builds
  - pushd builds

  # pip upgrade
  - virtualenv --python=python venv
  - source venv/bin/activate
  - python -V
  - pip install --upgrade pip
  - pip install --upgrade pip setuptools

  - pip install --install-option="--no-cython-compile" Cython
  - sudo apt-get install -qq libatlas-dev libatlas-base-dev gfortran

  - pip install wheel
  - pip install virtualenv

  - popd

script:
  - python setup.py bdist_wheel
  - virtualenv --python=python venv-for-wheel
  - . venv-for-wheel/bin/activate
  - pushd dist
  - pip install --upgrade numpy
  - pip install --upgrade wheel
  - pip install --pre --upgrade --find-links . limix
  - popd
